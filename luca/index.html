<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Chladniator</title>
    <link rel="stylesheet" href="./style2.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
  </head>
    
  <body>
  <div class="plug-ui">
    <section class="plugin-main">
      <div class="plugin-header">
        <div class="brand">CHLADNI•ATOR</div>
        <div class="micro-label">CHLADNI</div>
      </div>

      <div class="plugin-stage" id="plate">
        <canvas id="trail"></canvas>
        <main id="sketch-container"></main>
        <canvas id="canvas-overlay"></canvas>
        <div class="stage-corners" aria-hidden="true"></div>
      </div>

      <div class="plugin-footer">
        <span class="micro-label">Luca, Raffa, XinYi</span>
        
        <!-- Recorder -->
        <div id="RecorderControls">
          <button type="button" id="recordButton" class="offFilter"></button>

          <button id="audioContainerLabel">
            ...
            <span class="chevron">▾</span>
          </button>

          <ul id="audioContainer"></ul>
        </div>
      </div>
    </section>

    <aside class="portal-settings">
      <div class="settings-top">
        <div class="title">SETTINGS</div>
        <div class="chips">
          <button type="button" class="chip" id="btnA">A</button>
          <button type="button" class="chip" id="btnB">B</button>
          <button type="button" class="chip">C</button>
        </div>
      </div>
      <form id="settingsA">
        <span class="micro-label">Sound wave equation: </span>
        <span class="label">\[f(x) = a\sin(\pi nx) \sin(\pi my) + b\sin(\pi mx) \sin(\pi ny)\] </span>
        <div class="group">
          <div class="group-title">CHLADNI PLATE</div>

          <div class="knob-grid1">
            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">M</span>
                <input name="mSlider" type="range" id="mSlider" min="1" max="16" step="1" value="8">
              </label> -->
              <span class="knob-label">M</span>
              <div class="knob-wrapper" id="mKnob">
                  <svg class="knob-svg" width="80" height="80">
                      
                      <defs>
                        <linearGradient id="neonGradient" x1="0%" y1="80%" x2="80%" y2="0%">
                          <stop offset="0%" style="stop-color:var(--neonA); stop-opacity:1" />
                          <stop offset="100%" style="stop-color:var(--neonB); stop-opacity:1" />
                        </linearGradient>
                      </defs>

                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="mArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="mPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="mSlider" type="range" id="mSlider" min="1" max="16" step="1" value="8" class="hidden-input">
              </div>
              <div id="mVal" class="display-value">8</div>
            </div>

            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">N</span>
                <input name="nSlider" type="range" id="nSlider" min="1" max="16" step="1" value="4">
              </label> -->
              <span class="knob-label">N</span>
              <div class="knob-wrapper" id="nKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="nArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="nPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="nSlider" type="range" id="nSlider" min="1" max="16" step="1" value="4" class="hidden-input">
              </div>
              <div id="nVal" class="display-value">4</div>
            </div>

            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">A</span>
                <input name="aSlider" type="range" id="aSlider" min="-2" max="2" step="1" value="1">
              </label> -->
              <span class="knob-label">A</span>
              <div class="knob-wrapper" id="aKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="aArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="aPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="aSlider" type="range" id="aSlider" min="-2" max="2" step="1" value="1" class="hidden-input">
              </div>
              <div id="aVal" class="display-value"></div>
            </div>

            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">B</span>
                <input name="bSlider" type="range" id="bSlider" min="-2" max="2" step="1" value="1">
              </label> -->
              <span class="knob-label">B</span>
              <div class="knob-wrapper" id="bKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="bArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="bPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="bSlider" type="range" id="bSlider" min="-2" max="2" step="1" value="1" class="hidden-input">
              </div>
              <div id="bVal" class="display-value">1</div>
            </div>
          </div>

        </div>

        <div class="group">
          <div class="group-title">PARTICLES</div>

          <div class="knob-grid2">
            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">Scanning frequency</span>
                <input name="sSlider" type="range" id="sSlider" min="0.01" max="500" step="0.05" value="1"> 
              </label> -->
              <span class="knob-label">Scanning<br>frequency</span>
              <div class="knob-wrapper" id="sKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="sArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="sPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="sSlider" type="range" id="sSlider" min="0.01" max="500" step="0.05" value="1" class="hidden-input">
              </div>
              <div id="sVal" class="display-value"></div>
            </div>

            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">Vibration strength</span>
                <input name="vSlider" type="range" id="vSlider" min="0.001" max="0.1" step="0.002" value="0.02"> 
              </label> -->
              <span class="knob-label">Vibration<br>strength</span>
              <div class="knob-wrapper" id="vKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="vArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="vPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="vSlider" type="range" id="vSlider" min="0.001" max="0.1" step="0.002" value="0.02" class="hidden-input">
              </div>
              <div id="vVal" class="display-value"></div>
            </div>

            <div class="knob-item">
              <!-- <label class="knob">
                <span class="knob-label">Number of particles</span>
                <input name="numSlider" type="range" id="numSlider" min="1000" max="5000" step="500" value="3000">
              </label> -->
              <span class="knob-label">Number of<br>particles</span>
              <div class="knob-wrapper" id="numKnob">
                  <svg class="knob-svg" width="80" height="80">
                      <circle class="track" cx="40" cy="40" r="30" stroke-dasharray="141.4 188.5"></circle>
                      <circle id="numArc" class="value-arc" cx="40" cy="40" r="30" stroke-dasharray="0 188.5"></circle>
                      <line id="numPointer" class="pointer" x1="40" y1="40" x2="40" y2="40"></line>
                  </svg>
                  <input name="numSlider" type="range" id="numSlider" min="1000" max="5000" step="500" value="3000" class="hidden-input">
              </div>
              <div id="numVal" class="display-value"></div>
            </div>
          </div>

          <label class="toggle">
            <input name="showNotes" type="checkbox" id="showNotes" checked/>
            <span class="toggle-ui"></span>
            <span class="toggle-label">Enable</span>
          </label>

          <select id="midi-selector">
            <option value="ck">[Computer keyboard]</option>
            <option value="">--Please choose an option--</option>
          </select>
        </div>

        <div class="group">
          <div class="group-title">Envelope</div>
          <div class="row">
            <span class="mono" id="readout" hidden></span>
          </div>
          <canvas id="env"></canvas>
        </div>

      </form>
      <form id="settingsB" hidden>
        <input type="file" id="audio_sample" name="audio_sample" accept="audio/wav, audio/mpeg" multiple/>
        <div class="group">
          <div class="group-title"> SAMPLES </div>
          <div id="sample-lib"></div>
        </div>

        <div class="group">
          <div class="group-title"> TOOLS </div>
          <div id="brush-desk">
            <div class="tool" id="brush-tool">
               <img class="tool-img" src="images/brush.svg" alt="brush"> 
            </div>
            <div class="tool" id="erase-tool">
              <img class="tool-img" src="images/eraser.svg" alt="eraser"> 
            </div>
            <div class="tool" id="bucket-tool">
              <img class="tool-img" src="images/paint-bucket.svg" alt="bucket"> 
            </div>
          </div>
        </div>
      </form>
    </aside>
  </div>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5"></script>
  <script src="envelopeCanvas.js" type="text/javascript"></script>
  <script src="chladni.js" type="text/javascript"></script>
  <script src="audiobuffer.js" type="text/javascript"></script>
  <script src="audiogenerator.js" type="text/javascript"></script>
  <script src="midi_handle.js" type="text/javascript"></script>
  <script src="recorder.js" type="text/javascript"></script>
  <script src="recorderApp.js" type="text/javascript"></script>
  <script src="generalScript.js" type="text/javascript"></script>
  <script src="soundBrush.js" type="text/javascript"></script>
  <script src="CircleKnob.js" type="text/javascript"></script>
  
  </body>
  
</html>
